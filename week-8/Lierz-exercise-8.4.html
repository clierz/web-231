<!--
; Title: Exercise 8.4
; Author: Professor Krasso
; Date: 10 July 2018
; Modified By: Caren Lierz
; Description: This exercise demonstrates
; how to use Dynamic HTML
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment 8.4</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link rel="stylesheet" href="../site.css">

    <style type="text/css">
        #employee tbody tr:hover {
            cursor: pointer;
            background-color: #ffff99;
        }
    </style>
</head>
<body>

<div id="employees5"></div>

<script type="text/javascript">

    // employee constructor object
    function Employee(id, firstName, lastName, title){
        this.id = id;
        this.firstName = firstName;
        this.lastName = lastName;
        this.title = title;
    }

    // employee array
    var employees = [
        new Employee(1, "Fred", "Rogers", "Movie Star"),
        new Employee(2, "Wilma", "Flinstone", "Cartoon Character"),
        new Employee(3, "Caren", "Lierz", "Programmer"),      
        new Employee(4, "Roy", "Rogers", "Cowboy"), 
        new Employee(5, "Cher", "Bono", "Timeless"),     
    ];



    // getEmployee(id) function
    function getEmployee(id) {
        employees.forEach(function(employee) {
            if(employee.id === id) {
                alert(employee.id + " " + employee.firstName + " " + employee.lastName + " " + employee.title);
                return;
            }
        });

    }

    // output string variable
    var output = "<h1>Employee Listing</h1>";
        output += "<table id='employee'>";
        output += "<thead><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr></thead>";
        output += "<tbody>";

    // for loop

    employees.forEach(function(employee) {
        output += "<tr><td>" + employee.id + "</td>";
        output += "<td>" + employee.firstName + "</td>";
        output += "<td>" + employee.lastName + "</td>";
        output += "<td>" + employee.title + "</td></tr>";
    });
    output += "<tbody>";

    // innerHTML call
    document.getElementById("employees5").innerHTML = output;
    
    // jQuery onClick event
    $(function () {
        $("table tr").click(function () {
            var id = $(this).find("td:first").html();
            getEmployee(parseInt(id));
        })
    });
</script>
</body>
</html>